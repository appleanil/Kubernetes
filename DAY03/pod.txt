what is a pod?
===============
--> A pod is the smallest building block or basic unit of scheduling in Kubernetes.

--> A Pod always runs on a Node.

--> In a Kubernetes cluster, a pod represents a running process.

--> Inside a pod, you can have one or more containers. Those containers all share a unique network IP, storage, network and 
    any other specification applied to the pod. but highly recommend keep only one container in pod

--> POD is a group of one or more containers which will be running on some node

--> Each Pod has its unique IP Address within the cluster.



Pod Lifecycle-interview question
--------------------------------
let me try to explain a pod life cycle for that we writing a simple yaml file configuration then we try to apply the pod defination
in my local once i apply the kubectl apply -f then request go to the API server that API server stores the entire information etcd that key value data pairs
once the API server stored into the in the master machine scheduler is running that scheduler keep on watching unschedule pods into the etcd database 
will try to schedule a particular node

--> Make a Pod request to API server using a local pod defination file
--> The API server saves the info for the pod in ETCD
--> The scheduler finds the unscheduled pod and shedules it to node.
--> Kubelet running on the node, sees the pod scheduled and fires up container-runtime.
--> The entire lifecycle state of the pod is stored in ETCD.



Pod Concepts
-------------
--> Pod is ephemeral(lasting for a very short time) and won’t be rescheduled to a  new node once it dies.
--> You should not directly create/use Pod for deployment, Kubernetes have  controllers like Replica Sets, Deployment,
    Deamon sets to keep pod alive.




*** There are two model types of pod you can create:


One-container-per-pod. 
----------------------
This model is  the most popular. POD is the “wrapper”  for a single container. Since pod is the  smallest object that K8S recognizes, 
it  manages the pods instead of directly  managing the containers.


Multi-container-pod or Sidecar  containers 
------------------------------------------
In this model, a pod can hold  multiple co-located containers primary  container And utility container that helps or
enhances how an application  functions (examples of sidecar  containers are log shippers/watchers  and monitoring agents).




How to list k8s objects? -------------------------------> kubectl api-resources

How to list namespace level objects? -------------------> kubectl api-resources --namespaced=true

How to list cluster level objects? ---------------------> kubectl api-resources --namespaced=false

in interview ask to share a screen and write simpple pod yaml like DeamonSet, ReplicaSet, DeploymenSet

pod syntax
===========

apiVersion: v1
kind: Pod
metadata: # information abt pod like which env, which namespaced, pod name
  name: <pod name>
  labels: # to identify
   <key>: <value>
  namespace: <nsName> # like prod, db, frontend, staging, UAT
spec: #container info
   containers:
    - name: <containeName>
      image: <registry/repo:tag>
      ports:
      - containerPort: <containerPort>
      env:
      - name: <NAME>
        value: <value>
        
save: app1.yaml

apply: kubectl apply -f app1.yaml

kubectl get po --show-lable ----------> to identify


EXAMPLE 1: In interview they ask to share ur screen and write simple pod yaml like DeamonSet, ReplicaSet, DeploymentSet
===========

apiVersion: v1
kind: Pod
metadata:
  name: nginx
  namespace: test-ns
spec:
  containers:
  - name: nginx
    image: nginx:1.14.2
    ports:
    - containerPort: 80



Example 2:
=========

apiVersion: v1
kind: Pod
metadata:
  name: javawebappTest
  labels:
    app: javawebappTest
  namespace: prod
spec:
  containers:
  - name: javawebapp1
    image: kkeducation123456/maven-web-app:1.2
    ports:
    - containerPort: 8080


apiVersion: v1
kind: Pod
metadata:
  name: javawebappTest
  labels:
    app: javawebappTest
  namespace: prod
spec:
  containers:
  - name: javawebapp1
    image: anil
    ports:
    - containerPort: 8080


kubectl apply -f pod3.yaml, 
check namespace in prod ----------> kubectl get po -n prod
error will show u

================================================================
before apply we need to check syntax error

kubectl apply -f pod.yaml --dry-run=client then one more command

kubectl apply -f pod.yaml --dry-run=server

kubectl get po this is default but we created in prod namespaced

kubectl get po -n prod
================================================================



Example 3
==========
apiVersion: v1
kind: Pod
metadata: 
  name: mogodbpod
  namespace: db-ns
spec:
  containers:
  - name: mongodbcontainer
    image: mongo
    ports:
    -  containerPort: 27017



=================================================================


kubectl describe po <podName> -n <NameSpace>


IQ] Before starting pod , i need to do sanity how to do?

Ans: yes, kubectl apply -f abc.yaml -v=8

IQ] in which worker node my pod is running how to check?

Ans: yes, kubectl get po -o wide

IQ] can we edit the any yaml file 
Ans: yes, kubectl edit po pod.yaml -n prod

IQ] can we set the default context namespace 
Ans: yes, kubectl config set-context --current --namespace=default lo undtadi dani manam prod ga change cheyvachu

IQ] how to check default context namespace
Ans: yes, kubectl config get-contexts

CURRENT   NAME              CLUSTER        AUTHINFO           NAMESPACE
*         kubernetes-admin  kubernetes      kubernetes-admin   prod



IQ] can we delete the any pod 
Ans: yes, kubectl delete po nginxpod -n prod

IQ] can we delete the any yaml pod file
Ans: yes, kubectl delete -f pod.yaml



IQ] what is the meaning of 1/1, 2/2, 1/2, 0/2 ?

Ans:  1/1 means inside a pod we have a one container and that is running

      0/1 means inside a pod we have a one container and that is not running



Assignment : pls create a pods 
==========

tomcat

Jenkins

mongo


